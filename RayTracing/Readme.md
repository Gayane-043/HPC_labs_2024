# RayTracing

Данное приложение представляет собой реализацию трассировщика лучей (ray tracer), основанного на технологии CUDA для параллельных вычислений на графическом процессоре (GPU). 
Программа формирует изображение сцены, содержащей сферы с различными материалами и освещением.

Реализация программы:
1. Указываем максимальную глубину рекурсии при трассировке лучей.
2. Проверяем ошибки при использовании CUDA.
3. Обрабатываем ошибки CUDA: при возникновении ошибки программа завершает работу и устройство CUDA сбрасывается.
4. С помощью рекурсии вычисляем цвет пикселя: проверяем, пересекает ли луч какой-то объект в сцене; вызываем функцию рассеяния материала для определения нового луча и
затухания;
если достигнута максимальная глубина рекурсии - возвращаем черный цвет.
5. Иниализируем глобальное пространство состояния генератора случайных чисел для каждого пикселя.
6. Главная функция рендеринга: для каждого пикселя вычисляем случайные координаты луча; создаем луч; вызываем функцию color для вычисления цвета; суммируем цвета от нескольких
выборок лучей; применяем гамма-коррекцию; записываем цвет в буфер кадра.
7. Создаем сцену.
8. Создаем сферу с диффузным материалом: с цветом, который генерируется случайным образом.
9. Устанавливаем размеры изображения в пикселях (1200x900); указываем количество выборок на пиксель для сглаживания; устанавливаем размер блоков потоков в CUDA. Это параметр
оптимизации, влияющий на эффективность вычислений.
10. Вычисляем размер буфера кадра в байтах.  Он хранит цвет каждого пикселя.  vec3 представляет собой структуру RGB-цвета.
11. Выделяем память на видеокарте (GPU) для буфера кадра. PU и GPU. 
12. Выделяем память на GPU для хранения состояний генераторов случайных чисел.  Каждый пиксель или группа пикселей может использовать свой генератор для независимого
генерирования случайных чисел, необходимых для трассировки лучей. 
13. Выделяем память на GPU для массива указателей на объекты сцены.
14. Выделяем память на GPU для указателей на корневой узел сцены и камеру соответственно.
15. Запускаем ядро CUDA.
16. Определяем размер сетки блоков и количество потоков в каждом блоке для запуска CUDA-ядра (вычисление размера сетки гарантирует, что все пиксели будут обработаны).

Для формирования данного избражения с использованием технологии CUDA было затрачено 0.1142 секунды.
